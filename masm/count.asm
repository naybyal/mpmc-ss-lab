ASSUME CS:CODE, DS:DATA

DATA SEGMENT
	STR DB 0AH, 0DH, 'THIS IS SOMETHING$'
	KEY EQU 'T'
	MSG DB 0AH, 0DH, 'THE COUNT IS $' 
DATA ENDS

CODE SEGMENT
START:
	MOV AX, DATA
	MOV DS, AX

	LEA SI, STR
	MOV BL, KEY
	MOV CL, 0
LP1:
	MOV AL, [SI]
	CMP AL, BL
	JZ INCREMENT
	INC SI
	CMP AL, '$'
	JZ DOWN
	JNZ LP1
INCREMENT:
	ADD CL, 1
	INC SI
	JMP LP1

DOWN:
	LEA DX, MSG
	MOV AH, 09H
	INT 21H

	MOV AL, CL
	AAA
	ADD AL, 30H
	MOV DL, AL
	MOV AH, 02H
	INT 21H
	
	MOV AH, 4CH
	INT 21H
CODE ENDS
END START
