ASSUME CS:CODE, DS:DATA, SS:STACK

DATA SEGMENT
	STR DB 'RUST$'
	TRUE DB ' IS A PALINDROME$'
	FALSE DB ' IS NOT A PALINDROME$'
	LEN EQU 9
DATA ENDS

STACK SEGMENT
	STACKVAR DB 100H DUP(?)
STACK ENDS

PRINT MACRO MSG
	LEA DX, MSG
	MOV AH, 09H
	INT 21H
ENDM
CODE SEGMENT
START:
	MOV AX, DATA
	MOV DS, AX
	MOV AX, STACK
	MOV SS, AX
	PRINT STR
	LEA SI, STR
	MOV CH, 00H
	MOV CL, LEN
LP1:	PUSH [SI]
	INC SI
	LOOP LP1

	MOV CH, 00H
	MOV CL, LEN
	LEA SI, STR
LP2:	POP AX
	MOV BX, [SI]
	CMP AL, BL
	JNZ CLOSE
	INC SI	
	LOOP LP2
	PRINT TRUE
	JMP STOP
CLOSE:	PRINT FALSE
STOP:	MOV AH, 4CH
	INT 21H
CODE ENDS
END START
